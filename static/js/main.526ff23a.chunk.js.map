{"version":3,"sources":["components/TodoItem/todo.item.module.scss","components/TodoList/todo.list.module.scss","components/TodoItemForm/todo.item.form.module.scss","app.module.scss","ui-kit/Input/input.module.scss","icons/Delete.tsx","icons/Done.tsx","icons/Edit.tsx","ui-kit/Input/Input.tsx","components/TodoItem/TodoItem.tsx","components/TodoItemForm/TodoItemForm.tsx","components/TodoList/TodoList.tsx","utils/useLocalStorageState.ts","utils/useId.ts","App.tsx","index.tsx"],"names":["module","exports","DeleteIcon","props","width","height","fill","xmlns","d","DoneIcon","cx","cy","r","fillRule","clipRule","EditIcon","clipPath","id","Input","value","onChange","onEnterPress","placeholder","event","target","onKeyPress","key","className","styles","input","TodoItem","title","isCompleted","handleRemoveItem","handleEditItem","React","useState","isEdit","setIsEdit","editedTitle","setEditedTitle","handleEdit","todoItem","checked","type","checkbox","completed","disabled","onClick","iconButton","TodoItemForm","handleAddItem","taskTitle","setTaskTitle","handleButtonClick","formWrapper","button","TodoList","defaultValue","valueInLocalStorage","window","localStorage","getItem","JSON","parse","state","setState","prevKeyRef","useRef","useEffect","prevKey","current","removeItem","setItem","stringify","useLocalStorageState","tasks","setTasks","sortedTasks","useMemo","sortBy","reverse","filteredTasks","filter","item","newTitle","find","newItem","newTasks","itemsList","map","listWrapper","array","ids","i","length","Math","max","tasksCopy","divider","todoList","App","root","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.526ff23a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"todoItem\":\"todo_item_todoItem__3Y-7e\",\"title\":\"todo_item_title__26RoT\",\"completed\":\"todo_item_completed__Lm98E\",\"iconButton\":\"todo_item_iconButton__Ytxrw\",\"checkbox\":\"todo_item_checkbox__iCubo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listWrapper\":\"todo_list_listWrapper__19v7q\",\"todoList\":\"todo_list_todoList__1Nnaz\",\"divider\":\"todo_list_divider__1z1SR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWrapper\":\"todo_item_form_formWrapper__w0LiZ\",\"button\":\"todo_item_form_button__3BJsI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"app_root__2_qmO\",\"contentWrapper\":\"app_contentWrapper__23TUA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"input_input__3zcPz\"};","import * as React from \"react\";\n\nexport function DeleteIcon(props: React.SVGProps<SVGSVGElement>): JSX.Element {\n  return (\n    <svg width={16} height={16} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <path\n        d=\"M6.8 0L6 .8H2v1.6h.8v12c0 .874.726 1.6 1.6 1.6h8c.874 0 1.6-.726 1.6-1.6v-12h.8V.8h-4L10 0H6.8zM4.4 2.4h8v12h-8v-12zm2.166 2.634L5.434 6.166 7.27 8 5.434 9.834l1.132 1.132L8.4 9.13l1.834 1.835 1.132-1.132L9.53 8l1.835-1.834-1.132-1.132L8.4 6.87 6.566 5.034z\"\n        fill=\"#000\"\n      />\n    </svg>\n  );\n}\n","import * as React from \"react\";\n\nexport function DoneIcon(props: React.SVGProps<SVGSVGElement>): JSX.Element {\n  return (\n    <svg width={16} height={16} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <circle cx={8} cy={8} r={8} fill=\"#26CD58\" />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M9.82 5.332a1.154 1.154 0 011.62 1.644l-3.743 3.692a1.154 1.154 0 01-1.627-.006L4.338 8.927A1.154 1.154 0 115.97 7.296l.922.923 2.926-2.887z\"\n        fill=\"#fff\"\n      />\n    </svg>\n  );\n}\n","import * as React from \"react\";\n\nexport function EditIcon(props: React.SVGProps<SVGSVGElement>): JSX.Element {\n  return (\n    <svg width={16} height={16} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <g clipPath=\"url(#prefix__clip0)\">\n        <path\n          d=\"M12.98 0a.84.84 0 00-.595.247l-10.7 10.7s.846.005 1.262.421c.417.417.408 1.25.408 1.25s.858.016 1.277.435c.418.418.42 1.263.42 1.263l10.701-10.7a.841.841 0 000-1.192L13.576.247A.84.84 0 0012.98 0zm0 2.033l.987.987-.883.883-.987-.987.883-.883zm-2.074 2.074l.987.987-6.452 6.452a3.154 3.154 0 00-.653-.339 3.119 3.119 0 00-.334-.648l6.452-6.452zM.564 12.632L0 16l3.368-.564-2.804-2.804z\"\n          fill=\"#000\"\n        />\n      </g>\n      <defs>\n        <clipPath id=\"prefix__clip0\">\n          <path fill=\"#fff\" d=\"M0 0h16v16H0z\" />\n        </clipPath>\n      </defs>\n    </svg>\n  );\n}\n","import React from \"react\";\nimport styles from \"./input.module.scss\";\n\ninterface InputProps {\n  /** Значение */\n  value: string;\n  /** Коллбэк, вызывающийся при вводе */\n  onChange: (value: string) => void;\n  /** Коллбэк, вызывающийся при нажатии кнопки Enter */\n  onEnterPress: () => void;\n  /** Плейсхолдер */\n  placeholder?: string;\n}\n\nexport function Input(props: InputProps) {\n  const { value, onChange, onEnterPress, placeholder } = props;\n\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === \"Enter\") {\n      onEnterPress();\n    }\n  };\n\n  return (\n    <input\n      value={value}\n      onChange={(event: React.ChangeEvent<HTMLInputElement>) => onChange(event.target.value)}\n      onKeyPress={handleKeyPress}\n      className={styles.input}\n      placeholder={placeholder}\n    />\n  );\n}\n","import React from \"react\";\nimport { DeleteIcon } from \"../../icons/Delete\";\nimport { DoneIcon } from \"../../icons/Done\";\nimport { EditIcon } from \"../../icons/Edit\";\nimport { TodoTaskItem } from \"../../types/TodoTaskItem\";\nimport { Input } from \"../../ui-kit/Input\";\nimport styles from \"./todo.item.module.scss\";\n\ninterface TodoItemProps extends TodoTaskItem {\n  /** Коллбэк, удаляющий задачу */\n  handleRemoveItem: (id: number) => void;\n  /** Коллбэк, редактирующий задачу */\n  handleEditItem: (id: number, value: string, isCompleted: boolean) => void;\n}\n\nexport function TodoItem(props: TodoItemProps) {\n  const { id, title, isCompleted, handleRemoveItem, handleEditItem } = props;\n\n  const [isEdit, setIsEdit] = React.useState<boolean>(false);\n  const [editedTitle, setEditedTitle] = React.useState<string>(title);\n\n  const handleEdit = () => {\n    if (!editedTitle) return;\n    if (isEdit) handleEditItem(id, editedTitle, isCompleted);\n    setIsEdit(!isEdit);\n  };\n\n  const handleComplete = () => {\n    handleEditItem(id, title, !isCompleted);\n  };\n\n  return (\n    <li className={styles.todoItem}>\n      <input checked={isCompleted} onChange={() => handleComplete()} type=\"checkbox\" className={styles.checkbox} />\n\n      {isEdit ? (\n        <Input value={editedTitle} onChange={setEditedTitle} onEnterPress={handleEdit} />\n      ) : (\n        <div className={`${styles.title} ${isCompleted ? styles.completed : \"\"}`}>{title}</div>\n      )}\n\n      <button disabled={isCompleted} onClick={() => handleEdit()} className={styles.iconButton}>\n        {isEdit ? <DoneIcon /> : <EditIcon />}\n      </button>\n\n      <button onClick={() => handleRemoveItem(id)} className={styles.iconButton}>\n        <DeleteIcon />\n      </button>\n    </li>\n  );\n}\n","import React from \"react\";\nimport styles from \"./todo.item.form.module.scss\";\nimport { Input } from \"../../ui-kit/Input\";\n\ninterface TodoItemFormProps {\n  /** Коллбэк, обрабатывающий создание задачи */\n  handleAddItem: (title: string) => void;\n}\n\nexport function TodoItemForm(props: TodoItemFormProps) {\n  const { handleAddItem } = props;\n  const [taskTitle, setTaskTitle] = React.useState<string>(\"\");\n\n  const handleButtonClick = () => {\n    if (!taskTitle) return;\n    handleAddItem(taskTitle);\n    setTaskTitle(\"\");\n  };\n\n  return (\n    <div className={styles.formWrapper}>\n      <Input value={taskTitle} onChange={setTaskTitle} onEnterPress={handleButtonClick} placeholder=\"What needs to be done?\" />\n      <button onClick={handleButtonClick} className={styles.button}>\n        Add task\n      </button>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { TodoItem } from \"../TodoItem\";\nimport { sortBy } from \"lodash\";\nimport styles from \"./todo.list.module.scss\";\nimport { TodoItemForm } from \"../TodoItemForm\";\nimport { useLocalStorageState } from \"../../utils/useLocalStorageState\";\nimport { useId } from \"../../utils/useId\";\nimport { TodoTaskItem } from \"../../types/TodoTaskItem\";\n\nexport function TodoList() {\n  const [tasks, setTasks] = useLocalStorageState<TodoTaskItem[]>(\"tasks\", []);\n\n  const sortedTasks = React.useMemo(() => sortBy(tasks, \"title\").reverse(), [tasks]);\n\n  const handleAddItem = (title: string) => {\n    const ids = tasks.map((i) => i.id);\n    const item = { id: useId(ids), title, isCompleted: false };\n    const tasksCopy = [...tasks, item];\n    setTasks(tasksCopy);\n  };\n\n  const handleRemoveItem = (id: number) => {\n    const filteredTasks = tasks.filter((item) => item.id !== id);\n    setTasks(filteredTasks);\n  };\n\n  const handleEditItem = (id: number, newTitle: string, isCompleted: boolean) => {\n    const item = tasks.find((item) => item.id === id);\n\n    if (!item) return;\n\n    if (item.title === newTitle && item.isCompleted === isCompleted) return;\n\n    const newItem = { ...item, title: newTitle, isCompleted };\n    const filteredTasks = tasks.filter((item) => item.id !== id);\n    const newTasks = [...filteredTasks, newItem];\n    setTasks(newTasks);\n  };\n\n  const itemsList = sortedTasks.map((item) => (\n    <TodoItem\n      key={item.id}\n      id={item.id}\n      title={item.title}\n      isCompleted={item.isCompleted}\n      handleRemoveItem={handleRemoveItem}\n      handleEditItem={handleEditItem}\n    />\n  ));\n\n  return (\n    <div className={styles.listWrapper}>\n      <TodoItemForm handleAddItem={handleAddItem} />\n\n      <div className={styles.divider} />\n\n      <ul className={styles.todoList}>{itemsList}</ul>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Dispatch, SetStateAction } from \"react\";\n\nexport function useLocalStorageState<T>(key: string, defaultValue: T): [T, Dispatch<SetStateAction<T>>] {\n  const [state, setState] = React.useState<T>(() => {\n    const valueInLocalStorage = window.localStorage.getItem(key);\n    if (valueInLocalStorage) {\n      return JSON.parse(valueInLocalStorage);\n    }\n    return typeof defaultValue === \"function\" ? defaultValue() : defaultValue;\n  });\n\n  const prevKeyRef = React.useRef(key);\n\n  React.useEffect(() => {\n    const prevKey = prevKeyRef.current;\n    if (prevKey !== key) {\n      window.localStorage.removeItem(prevKey);\n    }\n    prevKeyRef.current = key;\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n\n  return [state, setState];\n}\n","export function useId(array: number[]): number {\n  if (array.length <= 0) return 1;\n  const biggestId = Math.max(...array);\n  return biggestId + 1;\n}\n","import React from \"react\";\nimport styles from \"./app.module.scss\";\nimport { TodoList } from \"./components/TodoList\";\n\nfunction App() {\n  return (\n    <div className={styles.root}>\n      <TodoList />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}